# Port Configuration for CI/CD Environment
# This file contains port configuration specifically for CI/CD pipelines
# to avoid conflicts with system services and other CI processes
#
# ⚠️  ARCHITECTURAL PROBLEM: This creates a SECOND source of truth!
# The codebase already has a single source of truth system:
# - ports.env (development)
# - load-env.sh (sets React environment variables)
# - Backend reads BACKEND_PORT from environment
# - Frontend gets REACT_APP_BACKEND_PORT from load-env.sh
#
# TODO: Fix CI to use existing single source of truth architecture
# See: GitHub issue #XXX - "CI should use existing single source of truth for port configuration"
#
# TEMPORARY FIX: This file serves as a second source of truth to fix immediate CI issues
# The proper fix is to make CI use the existing load-env.sh + ports.env system
#
# This file should be removed once CI uses the proper load-env.sh system

# Backend API Server Port (CI-specific to avoid conflicts)
BACKEND_PORT=51249

# Frontend Development Server Port (CI-specific)
FRONTEND_PORT=3000

# Admin Frontend Development Server Port
ADMIN_FRONTEND_PORT=3001

# Database Port (standard PostgreSQL port)
DATABASE_PORT=5432

# Redis Port (if used in future)
REDIS_PORT=6379

# CI-specific service URLs
BACKEND_URL=http://localhost:${BACKEND_PORT}
FRONTEND_URL=http://localhost:${FRONTEND_PORT}
ADMIN_FRONTEND_URL=http://localhost:${ADMIN_FRONTEND_PORT}

# GraphQL endpoint for frontend
REACT_APP_GRAPHQL_ENDPOINT=${BACKEND_URL}/graphql
REACT_APP_API_URL=${BACKEND_URL}
REACT_APP_GRAPHQL_URL=${BACKEND_URL}/graphql
REACT_APP_BACKEND_PORT=${BACKEND_PORT}

# Health check URLs
BACKEND_HEALTH_URL=${BACKEND_URL}/health
FRONTEND_HEALTH_URL=${FRONTEND_URL}/health

# CORS configuration
CORS_ALLOWED_ORIGINS=${FRONTEND_URL},${ADMIN_FRONTEND_URL}
